---
layout: default
title: 02_JWT
parent: 01_Authorization
grand_parent: Web
nav_order: 2
has_children: false
---

# JWT (JSON Web Token)  

## 1. 토큰 기반 인증  

### 1) 토큰 기반 인증 과정  

(1) 토큰 기반 인증 시스템에서는 클라이언트가 서버에 접속을 하면 <u>서버에서 해당 클라이언트에게 인증되었다는 의미로 '토큰'을 부여</u>함.  
(2) 토큰을 발급받은 클라이언트는 서버에 요청을 보낼 때 <u>요청 헤더에 토큰을 심어서 보냄</u>.  
(3) 서버에서는 클라이언트로부터 받은 토큰을 <u>서버에서 제공한 토큰과 일치하는지 여부를 체크</u>하여 인증 과정을 처리.  


### 2) 토큰 기반 인증을 사용하는 이유 (장점)  

**1. Stateless**  

> **Stateful**  
> - Stateful한 서버는 클라이언트에서 요청을 받을 때마다 클라이언트의 상태를 계속 유지.  
> - <u>서버</u>의 메모리 또는 DB<u>에 상태 저장</u>  
> - 서버(세션) 기반 인증 시스템  
>
> **Stateless**  
> - 클라이언트에서 들어오는 요청만으로 작업을 처리.  
> - <u>서버에 상태 저장X</u> (서버에서 사용자 인증정보 관리X)  
> - 토큰 기반 인증 시스템  

**2. 모바일 어플리케이션에 적합**  
모바일 어플리케이션에서는 쿠키 사용 불가  

**3. 인증정보를 다른 어플리케이션으로 전달**  

**4. 보안**  


### 3) 토큰 기반 인증 방식의 단점  

1. 쿠키/세션과 다르게 토큰 자체의 데이터 길이가 길어, 인증 요청이 많아질수록 네트워크 부하가 심해질수 있다.  

2. Payload 자체는 암호화되지 않기 때문에 유저의 중요한 정보는 담을 수 없다.  

3. 토큰을 탈취당하면 대처하기 어렵다. (따라서 사용 기간 제한을 설정하는 식으로 극복)  

<hr/>

## 2. JWT(JSON Web Token)란?  
- 웹에서 사용되는 <u>JSON 형식의 토큰에 대한 표준 규격</u>  
- 사용자의 인증(authentication) 또는 인가(authorization) 정보를 서버와 클라이언트 간에 안전하게 주고 받기 위해서 사용
- Claim 기반(다른 토큰과 비교)


### 1) JWT의 구조

하나의 JWT 토큰은 헤더(header), 페이로드(payload), 서명(signature) 세 부분으로 이루어지며 각 부분은 '.' 기호로 구분됨.
```
<헤더>.<페이로드>.<서명>
```

- **헤더(header):** 토큰의 유형과 서명 알고리즘(해시 암호화 알고리즘)으로 구성
- **페이로드(payload):** claim이라고도 불리는 사용자의 인증/인가 정보
- **서명(signature):** 헤더와 페이로드가 비밀키(secret key)로 서명되어 저장
